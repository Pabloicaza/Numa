/* Uncommented and Minified JS in preview only */
(function(e) {
    "use strict";

    function u(t) {
        var n = null;
        e.ajax({
            url: t,
            type: "get",
            dataType: "xml",
            async: false,
            success: function(t) {
                var r = e(t).find("svg");
                r = r.removeAttr("xmlns:a");
                n = r
            }
        });
        return n
    }

    function a(n) {
        var r = t.height(),
            i = t.width(),
            s = Math.floor(r - 90);
        if (i <= "767" && s <= n) {
            e(".nav").css({
                "overflow-y": "scroll",
                height: s
            })
        } else {
            e(".nav").removeAttr("style")
        }
    }

    function f(t) {
        var n = e(t).not(".pull").hasClass("has-svg") || e(t).hasClass("push") ? 50 : -50;
        e.scrollTo(t, {
            duration: 800,
            offset: n,
            axis: "y"
        })
    }

    function l() {
        e(".anim").addClass("transparent");
        e(".anim").waypoint(function(t) {
            var n = e(this).data("anim");
            e(this).removeClass("transparent").addClass(n + " animated opaque")
        }, {
            offset: "95%",
            triggerOnce: true
        })
    }

    function c() {
        var e = document.getElementById("map");
        var t = new google.maps.LatLng(59.32893000000001, 18.064910000000054);
        var n = {
            center: t,
            zoom: 16,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            scrollwheel: false,
            panControl: false,
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.SMALL
            }
        };
        var r = new google.maps.Map(e, n);
        r.set("styles", [{
            stylers: [{
                hue: "#d8d8d8"
            }, {
                saturation: -100
            }]
        }]);
        var i = new google.maps.InfoWindow({
            content: "<h1>Hi There!</h1>"
        });
        var s = new google.maps.MarkerImage("img/map-icon@2x.png", null, null, null, new google.maps.Size(31, 51));
        var o = new google.maps.Marker({
            position: t,
            map: r,
            icon: s
        });
        google.maps.event.addListener(o, "click", function() {
            i.open(r, o)
        })
    }
    var t = e(window),
        n = e("body").data("separator"),
        r = e("body").data("mobile-animate"),
        i = e(".nav").height();
    t.load(function() {
        e("#status").fadeOut();
        e("#preloader").delay(350).fadeOut("slow");
        e("body").delay(450).removeClass("preload")
    });
    if ( n !== undefined) {
        e("section:not(:last)").addClass("has-svg");
        e("section:first").addClass("pull");
        e("section:last").addClass("push");
        if (n === "skew") {
            e("section:not(:last)").append(u("img/separator-bottom.svg"));
            e("section:first").prepend(u("img/separator-top.svg"))
        }
        if (n === "slopy") {
            e("section:not(:last)").not(":even").append(u("img/separator-bottom.svg"));
            e("section:not(:last)").not(":odd").append(u("img/separator-bottom-alt.svg"));
            e("section:first").prepend(u("img/separator-top.svg"))
        }
        if (n === "triangle") {
            e("section").not(":last").append(u("img/separator-bottom-triangle.svg"));
            e("section:first").prepend(u("img/separator-top-triangle.svg"))
        }
    }
    if (!Modernizr.svg) {
        e("#nav-toggle").find("img[src='img/icon-menu.svg']").attr("src", "img/icon-menu.png")
    }
    e("#nav-toggle").click(function() {
        e(this).toggleClass("active");
        e(".nav").toggleClass("open");
        return false
    });
    t.on("resize", function() {
        i = e(".nav").height();
        a(i)
    });
    a(i);
    e(".nav a").click(function() {
        e(this).parent().removeClass("open");
        e("#nav-toggle").removeClass("active");
        f(e(this).attr("href"));
        return false
    });
    e("a[href*=#]:not([href=#])").click(function() {
        f(e(this).attr("href"));
        return false
    });
    e(function() {
        if (window.location.hash) f(window.location.hash)
    });
    e(".scrolltop").click(function() {
        e("html, body").animate({
            scrollTop: 0
        }, 800);
        return false
    });
    Modernizr.addTest("csstransformspreserve3d", function() {
        var e, t, n, r;
        e = "transform-style";
        if ("webkitTransformStyle" in document.documentElement.style) {
            e = "-webkit-" + e
        }
        t = "preserve-3d";
        n = "#modernizr { " + e + ": " + t + "; }";
        Modernizr.testStyles(n, function(t, n) {
            r = window.getComputedStyle ? getComputedStyle(t, null).getPropertyValue(e) : ""
        });
        return r === t
    });
    var s = Modernizr.csstransforms3d && Modernizr.csstransformspreserve3d ? "flipUp" : "fade";
    e(".rotate").textrotator({
        animation: s,
        speed: 2e3
    });
    e(".fittext").fitText(1.2, {
        minFontSize: "20px",
        maxFontSize: "80px"
    });
    e("#header").waypoint({
        handler: function(t) {
            e(".nav-header").toggleClass("blackout", t === "down")
        },
        offset: function() {
            return -(e(".nav-header").outerHeight() - 50)
        }
    });
    e("section").waypoint({
        handler: function(t) {
            var n = e(this);
            if (t === "up") {
                n = n.prev()
            }
            e(".nav a").removeClass("current");
            e('.nav a[href="#' + n.attr("id") + '"]').addClass("current")
        },
        offset: "25%"
    });
    e("#skill").waypoint(function(t) {
        e(".percentage").easyPieChart({
            animate: 4e3,
            trackColor: "#f5f5f5",
            barColor: "#a9a9a9",
            scaleColor: false,
            lineCap: "butt",
            lineWidth: 15,
            size: 200,
            onStep: function(t, n, r) {
                e(this.el).find("span").text(Math.round(r))
            }
        })
    }, {
        offset: "100%",
        triggerOnce: true
    });
    if (r === true && r !== undefined) {
        l()
    } else {
        if (!jQuery.browser.mobile) l()
    }
    var o = {
        init: function() {
            e("#portfolio-grid").mixitup({
                targetSelector: ".portfolio-block",
                filterSelector: ".filter",
                effects: ["fade"],
                easing: "snap"
            })
        }
    };
    o.init();
    e(".portfolio-image").magnificPopup({
        type: "image",
        mainClass: "mfp-with-zoom",
        zoom: {
            enabled: true,
            duration: 300,
            easing: "ease-in-out"
        }
    });
    e(".portfolio-video").magnificPopup({
        type: "iframe"
    });
    e(".portfolio-ajax, .post-ajax").magnificPopup({
        type: "ajax",
        removalDelay: 300,
        disableOn: 480,
        callbacks: {
            parseAjax: function(t) {
                var n = "#post";
                t.data = e(t.data).filter(n)
            },
            ajaxContentAdded: function() {
                e(".root-class").find("*").addClass("mfp-prevent-close");
                if (e.existsin(".video", this.content)) this.content.fitVids();
                if (e.existsin(".carousel", this.content)) {
                    this.content.find(".carousel").owlCarousel({
                        navigation: false,
                        autoPlay: false,
                        slideSpeed: 500,
                        paginationSpeed: 500,
                        singleItem: true
                    })
                }
            }
        }
    });
    e.existsin = function(e, t) {
        return jQuery(t).find(e).length > 0
    };
    e(".client-carousel").owlCarousel({
        navigation: false,
        autoPlay: true,
        slideSpeed: 500,
        paginationSpeed: 500
    });
    e(".quotes-carousel").owlCarousel({
        navigation: false,
        autoPlay: true,
        slideSpeed: 500,
        paginationSpeed: 500,
        singleItem: true
    });
    e("#contact-form").submit(function() {
        var t = "sendmail.php";
        e(".form-notification").remove();
        e.ajax({
            type: "POST",
            url: t,
            data: e("#contact-form").serialize(),
            success: function(t) {
                e("#contact-form").append(t)
            }
        });
        return false
    });
    google.maps.event.addDomListener(window, "load", c)
})(jQuery);